config:
  target: "http://192.168.50.30"
  phases:
    - duration: 60        # 1 minuto
      arrivalRate: 50     # 50 usuarios nuevos por segundo
  http:
    timeout: 15
  ensure:
    maxErrorRate: 5       # falla la prueba si >5% de errores

scenarios:
  - name: "Heavy medio – API Rick & Morty"
    flow:
      # Página principal de la VM1 (debería disparar al menos 1 llamada a la API)
      - get:
          url: "/"

      # Búsqueda de personajes (ajusta el parámetro según tu app)
      - get:
          url: "/?name=rick"

      - get:
          url: "/?name=morty"

      - get:
          url: "/?name=summer"
